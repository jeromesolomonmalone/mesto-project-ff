{"version":3,"file":"main.js","mappings":"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","sources":["webpack://package.json/./src/scripts/card.js","webpack://package.json/./src/scripts/modal.js","webpack://package.json/./src/scripts/validation.js","webpack://package.json/./src/scripts/api.js","webpack://package.json/./src/scripts/index.js"],"sourcesContent":["const cardTemplate = document.querySelector(\"#card-template\").content;\n\n// @todo: Функция создания карточки\nexport function addCard(item, myID, addLikeApi, removeLikeApi, addLike, removeLike, showPopup, deleteCardApi) {\n  const cardElement = cardTemplate\n    .querySelector(\".places__item\")\n    .cloneNode(true);\n  cardElement.querySelector(\".card__image\").src = item.link;\n  cardElement.querySelector(\".card__image\").alt = item.name;\n  cardElement.querySelector(\".card__title\").textContent = item.name;\n  const numberOfLikes = cardElement.querySelector(\".number__likes\");\n  numberOfLikes.textContent = item.likes.length;\n  const deleteButton = cardElement.querySelector(\".card__delete-button\");\n  if (myID !== item.owner._id) {\n    deleteButton.remove();\n  }\n  deleteButton.addEventListener(\"click\", () => {\n    deleteCard(item._id, cardElement, deleteCardApi);\n  });\n\n  const cardLikeButton = cardElement.querySelector(\".card__like-button\");\n  \n\n  if (item.likes.some((like) => like._id === myID)) {\n    cardLikeButton.classList.add(\"card__like-button_is-active\");\n  }\n\n  cardLikeButton.addEventListener(\"click\", () => {\n    if (cardLikeButton.classList.contains(\"card__like-button_is-active\")) {\n      removeLikeApi(item._id, cardLikeButton, numberOfLikes, removeLike);\n    } else {\n      addLikeApi(item._id, cardLikeButton, numberOfLikes, addLike);\n    }\n  });\n\n  const cardImage = cardElement.querySelector(\".card__image\");\n  cardImage.addEventListener(\"click\", function () {\n    showPopup(item);\n  });\n\n  return cardElement;\n}\n\n//Функция-константа с изменением ID карты и самой КАРТОЧКИ, а также активации функции удаления карточки и с сервера и с вёрстки\nexport function deleteCard(id, card, deleteCardApi) {\n  deleteCardApi(id)\n    .then(() => {\n      card.remove();\n    })\n    .catch((err) => console.log(`Ошибка.....: ${err}`));\n}\n\nexport function addLikeApi(id, button, likes, addLike) {\n  addLike(id)\n    .then((res) => {\n      button.classList.add(\"card__like-button_is-active\");\n      likes.textContent = res.likes.length;\n    })\n    .catch((err) => console.log(`Ошибка.....: ${err}`));\n}\n\nexport function removeLikeApi(id, button, likes, removeLike) {\n  removeLike(id)\n    .then((res) => {\n      button.classList.remove(\"card__like-button_is-active\");\n      likes.textContent = res.likes.length;\n    })\n    .catch((err) => console.log(`Ошибка.....: ${err}`));\n}\n","// Функция добавления попапам класса открытия\nexport function openPopup(popupElement) {\n  popupElement.classList.add(\"popup_is-opened\");\n  document.addEventListener(\"keydown\", closePopupByEsc);\n}\n\n// Функция перебора элементов с последующим наложением на каждый функцию,\n//которая убирает класс с элементов\nexport function closePopup(popupElement) {\n  popupElement.classList.remove(\"popup_is-opened\");\n  document.removeEventListener(\"keydown\", closePopupByEsc);\n}\n\n// Слушатель на весь документ, если конпка Escape и у попапа класс открытия, то попап закрывается\nfunction closePopupByEsc(evt) {\n  if (evt.key === \"Escape\") {\n    closePopup(document.querySelector(\".popup_is-opened\"));\n  }\n}\n\n// Функция, которая убирает класс с элементов, если нажатие вне попапа на оверлей\nexport function addCloseOverlayListener(element) {\n  element.addEventListener(\"click\", function (e) {\n    if (e.target === e.currentTarget) {\n      closePopup(e.currentTarget);\n    }\n  });\n}\n","const showInputError = (\n  formElement,\n  inputElement,\n  errorMessage,\n  validationConfig\n) => {\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\n  inputElement.classList.add(validationConfig.inputErrorClass);\n  errorElement.textContent = errorMessage;\n  errorElement.classList.add(validationConfig.errorClass);\n};\n\nconst hideInputError = (formElement, inputElement, validationConfig) => {\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\n  inputElement.classList.remove(validationConfig.inputErrorClass);\n  inputElement.setCustomValidity(\"\");\n  errorElement.classList.remove(validationConfig.errorClass);\n  errorElement.textContent = \"\";\n};\n\nconst checkInputValidity = (formElement, inputElement, validationConfig) => {\n  if (inputElement.validity.patternMismatch) {\n    inputElement.setCustomValidity(inputElement.dataset.errorMessage);\n  } else {\n    inputElement.setCustomValidity(\"\");\n  }\n  if (!inputElement.validity.valid) {\n    showInputError(\n      formElement,\n      inputElement,\n      inputElement.validationMessage,\n      validationConfig\n    );\n  } else {\n    hideInputError(formElement, inputElement, validationConfig);\n  }\n};\n\nconst setEventListeners = (formElement, validationConfig) => {\n  const inputList = Array.from(\n    formElement.querySelectorAll(validationConfig.inputSelector)\n  );\n  const buttonElement = formElement.querySelector(\n    validationConfig.submitButtonSelector\n  );\n  toggleButtonState(inputList, buttonElement, validationConfig);\n\n  inputList.forEach((inputElement) => {\n    inputElement.addEventListener(\"input\", function () {\n      checkInputValidity(formElement, inputElement, validationConfig);\n      toggleButtonState(inputList, buttonElement, validationConfig);\n    });\n  });\n};\n\nexport const enableValidation = (validationConfig) => {\n  const form = Array.from(\n    document.querySelectorAll(validationConfig.formSelector)\n  );\n  form.forEach((formElement) => {\n    formElement.addEventListener(\"submit\", function (evt) {\n      evt.preventDefault();\n    });\n\n    setEventListeners(formElement, validationConfig);\n  });\n};\n\nconst hasInvalidInput = (inputList) => {\n  return inputList.some((input) => {\n    return !input.validity.valid;\n  });\n};\n\nconst toggleButtonState = (inputList, buttonElement, validationConfig) => {\n  if (hasInvalidInput(inputList)) {\n    buttonElement.classList.add(validationConfig.inactiveButtonClass);\n    buttonElement.disabled = true;\n  } else {\n    buttonElement.classList.remove(validationConfig.inactiveButtonClass);\n    buttonElement.disabled = false;\n  }\n};\n\nexport const clearValidation = (\n  formElement,\n  inputSelector,\n  validationConfig\n) => {\n  hideInputError(formElement, inputSelector, validationConfig);\n  const buttonElement = formElement.querySelector(\n    validationConfig.submitButtonSelector\n  );\n  buttonElement.classList.add(validationConfig.inactiveButtonClass);\n  buttonElement.disabled = true;\n};\n","//Главные ссылка и пароль, главный конфиг\nconst config = {\n  baseUrl: \"https://nomoreparties.co/v1/wff-cohort-18\",\n  headers: {\n    authorization: \"4c84455c-b37c-4017-b90f-e1abc3cb4dd2\",\n    \"Content-Type\": \"application/json\",\n  },\n};\n\n//Если с ответом от сервера все ОК, то возращается результат, если нет - то отображается ошибка\nconst handleResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`);\n};\n\n//Функция-константа с получением данных о пользователе\nexport const getDataProfile = () => {\n  return fetch(`${config.baseUrl}/users/me`, {\n    headers: config.headers,\n  }).then(handleResponse);\n};\n\n//Функция-константа с получением данных о картах\nexport const getDataCards = () => {\n  return fetch(`${config.baseUrl}/cards`, {\n    headers: config.headers,\n  }).then(handleResponse);\n};\n\n//Функция-константа с пересохранением данных ИМЕНИ и ПОДРОБНЕЕ\nexport const saveProfileApi = (data) => {\n  return fetch(`${config.baseUrl}/users/me`, {\n    method: \"PATCH\",\n    headers: config.headers,\n    body: JSON.stringify(data),\n  }).then(handleResponse);\n};\n\n//Функция-константа с передачей на сервер данных карточки\nexport const addNewApiCard = (data) => {\n  return fetch(`${config.baseUrl}/cards`, {\n    method: \"POST\",\n    headers: config.headers,\n    body: JSON.stringify(data),\n  }).then(handleResponse);\n};\n\n//Функция-константа с удалением карточки с сервера\nexport const deleteCardApi = (cardID) => {\n  return fetch(`${config.baseUrl}/cards/${cardID}`, {\n    method: \"DELETE\",\n    headers: config.headers,\n  }).then(handleResponse);\n};\n\n//Функция-константа с добавлением в массив LIKES лайка от меня\nexport const addLike = (cardID) => {\n  return fetch(`${config.baseUrl}/cards/likes/${cardID}`, {\n    method: \"PUT\",\n    headers: config.headers,\n  }).then(handleResponse);\n};\n\n//Функция-константа с удалением из массива LIKES лайка от меня\nexport const removeLike = (cardID) => {\n  return fetch(`${config.baseUrl}/cards/likes/${cardID}`, {\n    method: \"DELETE\",\n    headers: config.headers,\n  }).then(handleResponse);\n};\n\n//Функция-константа с пересохранением ссылки АВАТАРА\nexport const saveAvatarApi = (data) => {\n  return fetch(`${config.baseUrl}/users/me/avatar`, {\n    method: \"PATCH\",\n    headers: config.headers,\n    body: JSON.stringify(data),\n  }).then(handleResponse);\n};\n","import \"../pages/index.css\";\nimport { addCard, addLikeApi, removeLikeApi } from \"./card.js\";\nimport { openPopup, closePopup, addCloseOverlayListener } from \"./modal.js\";\nimport { enableValidation, clearValidation } from \"./validation.js\";\nimport {\n  getDataProfile,\n  getDataCards,\n  saveProfileApi,\n  addNewApiCard,\n  saveAvatarApi,\n  addLike,\n  removeLike,\n  deleteCardApi,\n} from \"./api.js\";\n\n// @todo: DOM узлы\nconst cardsList = document.querySelector(\".places__list\");\nconst profileEditOpen = document.querySelector(\".profile__edit-button\");\nconst profileAddButton = document.querySelector(\".profile__add-button\");\nconst popupTypeEdit = document.querySelector(\".popup_type_edit\");\nconst popupTypeNewCard = document.querySelector(\".popup_type_new-card\");\nconst popupTypeEditAvatar = document.querySelector(\".popup_type_edit-avatar\");\nconst closeButtons = document.querySelectorAll(\".popup__close\");\nconst popups = document.querySelectorAll(\".popup\");\nconst editProfile = document.forms[\"edit-profile\"];\nconst nameInput = editProfile.elements.name;\nconst jobInput = editProfile.elements.description;\nconst profileTitle = document.querySelector(\".profile__title\");\nconst profileDescription = document.querySelector(\".profile__description\");\nconst newPlace = document.forms[\"new-place\"];\nconst placeName = newPlace.elements[\"place-name\"];\nconst placeLink = newPlace.elements.link;\nconst popupTypeImage = document.querySelector(\".popup_type_image\");\nconst profileAvatar = document.querySelector(\".profile__image\");\nconst buttonEditProfile = document.querySelector(\".button_edit-profile\");\nconst buttonNewPlace = document.querySelector(\".button_new-place\");\nconst buttonEditAvatar = document.querySelector(\".button_edit-avatar\");\nconst editAvatar = document.forms[\"edit-avatar\"];\nconst avatarInput = editAvatar.elements.avatar;\nlet myID = null;\nconst validationConfig = {\n  formSelector: \".popup__form\",\n  inputSelector: \".popup__input\",\n  submitButtonSelector: \".popup__button\",\n  inactiveButtonClass: \"popup__button_disabled\",\n  inputErrorClass: \"popup__input_type_error\",\n  errorClass: \"popup__error_visible\",\n};\n\n// @todo: Вывести карточки на страницу\n//Активация функции добавления карты, через проход массива карт из ссылки\nPromise.all([getDataProfile(), getDataCards()])\n  .then((res) => {\n    const dataProfile = res[0];\n    profileTitle.textContent = dataProfile.name;\n    profileDescription.textContent = dataProfile.about;\n    profileAvatar.style.backgroundImage = \"url(\" + dataProfile.avatar + \")\";\n    nameInput.value = profileTitle.textContent;\n    jobInput.value = profileDescription.textContent;\n    avatarInput.value = dataProfile.avatar;\n    myID = dataProfile._id;\n\n    res[1].forEach(function (element) {\n      cardsList.append(\n        addCard(\n          element,\n          myID,\n          addLikeApi,\n          removeLikeApi,\n          addLike,\n          removeLike,\n          showPopup,\n          deleteCardApi\n        )\n      );\n    });\n  })\n  .catch((err) => {\n    console.log(err);\n  });\n\n//Наложение на каждый попап класса анимации\npopups.forEach(function (element) {\n  element.classList.add(\"popup_is-animated\");\n});\n\n// При нажатии на кнопку редактирования профиля вызывается функция открытия попапа,\n//и в форме отображаются изначальные данные\nprofileEditOpen.addEventListener(\"click\", function () {\n  nameInput.value = profileTitle.textContent;\n  jobInput.value = profileDescription.textContent;\n  openPopup(popupTypeEdit);\n  clearValidation(editProfile, nameInput, validationConfig);\n  clearValidation(editProfile, jobInput, validationConfig);\n});\n\n// При нажатии на кнопку добавления карточки вызывается функция открытия попапа\nprofileAddButton.addEventListener(\"click\", function () {\n  openPopup(popupTypeNewCard);\n});\n\n// При нажатии на аватарку вызывается функция открытия попапа\nprofileAvatar.addEventListener(\"click\", function () {\n  openPopup(popupTypeEditAvatar);\n});\n\n// Функция с константой попапа карточек с изображениями и привязка к ним данных из\n//темплейта и вызов функции открытии попапа\nfunction showPopup(item) {\n  popupTypeImage.querySelector(\".popup__image\").src = item.link;\n  popupTypeImage.querySelector(\".popup__image\").alt = item.name;\n  popupTypeImage.querySelector(\".popup__caption\").textContent = item.name;\n  openPopup(popupTypeImage);\n}\n\n// Перебор кнопок закрытия с последующим наложения на них функции, которая убирает класс с элементов\ncloseButtons.forEach(function (element) {\n  element.addEventListener(\"click\", function () {\n    popups.forEach(closePopup);\n  });\n});\n\n// Перебор попапов с последующим наложения на них функции, которая убирает класс с элементов,\n//если нажатие вне попапа на оверлей\npopups.forEach(addCloseOverlayListener);\n\n//Функция сохранения данных ИМЕНИ и ПОДРОБНЕЕ\nfunction saveProfileData(evt) {\n  evt.preventDefault();\n  renderLoading(true, buttonEditProfile);\n  saveProfileApi({\n    name: nameInput.value,\n    about: jobInput.value,\n  })\n    .then((res) => {\n      profileTitle.textContent = res.name;\n      profileDescription.textContent = res.about;\n      closePopup(popupTypeEdit);\n    })\n    .catch((err) => console.log(`Ошибка.....: ${err}`))\n    .finally(() => {\n      renderLoading(false, buttonEditProfile);\n    });\n}\n\neditProfile.addEventListener(\"submit\", saveProfileData);\n\n//Функция сохранения данных КАРТОЧКИ\nfunction createCard(evt) {\n  evt.preventDefault();\n  renderLoading(true, buttonNewPlace);\n  addNewApiCard({\n    name: placeName.value,\n    link: placeLink.value,\n  })\n    .then((res) => {\n      cardsList.prepend(\n        addCard(\n          res,\n          myID,\n          addLikeApi,\n          removeLikeApi,\n          addLike,\n          removeLike,\n          showPopup,\n          deleteCardApi\n        )\n      );\n      closePopup(popupTypeNewCard);\n    })\n    .catch((err) => console.log(`Ошибка.....: ${err}`))\n    .finally(() => {\n      renderLoading(false, buttonNewPlace);\n      evt.target.reset();\n      clearValidation(newPlace, placeName, validationConfig);\n      clearValidation(newPlace, placeLink, validationConfig);\n    });\n}\n\nnewPlace.addEventListener(\"submit\", createCard);\n\n//Функция сохранения ссылки АВАТАРА\nfunction editAvatarApi(evt) {\n  evt.preventDefault();\n  renderLoading(true, buttonEditAvatar);\n  saveAvatarApi({\n    avatar: avatarInput.value,\n  })\n    .then((res) => {\n      profileAvatar.style.backgroundImage = \"url(\" + res.avatar + \")\";\n      closePopup(popupTypeEditAvatar);\n    })\n    .catch((err) => console.log(`Ошибка.....: ${err}`))\n    .finally(() => {\n      renderLoading(false, buttonEditAvatar);\n    });\n}\n\neditAvatar.addEventListener(\"submit\", editAvatarApi);\n\n//Функция, в которой если isLoading = true, то на кнопке текст \"Сохранение...\"\nfunction renderLoading(isLoading, element) {\n  if (isLoading) {\n    element.textContent = \"Сохранение...\";\n  } else {\n    element.textContent = \"Сохранить\";\n  }\n}\n\nenableValidation(validationConfig);\n"],"names":["cardTemplate","document","querySelector","content","addCard","item","myID","addLikeApi","removeLikeApi","addLike","removeLike","showPopup","deleteCardApi","cardElement","cloneNode","src","link","alt","name","textContent","numberOfLikes","likes","length","deleteButton","owner","_id","remove","addEventListener","id","card","then","catch","err","console","log","concat","deleteCard","cardLikeButton","some","like","classList","add","contains","button","res","openPopup","popupElement","closePopupByEsc","closePopup","removeEventListener","evt","key","hideInputError","formElement","inputElement","validationConfig","errorElement","inputErrorClass","setCustomValidity","errorClass","toggleButtonState","inputList","buttonElement","input","validity","valid","hasInvalidInput","inactiveButtonClass","disabled","clearValidation","inputSelector","submitButtonSelector","config","baseUrl","headers","authorization","handleResponse","ok","json","Promise","reject","status","cardID","fetch","method","cardsList","profileEditOpen","profileAddButton","popupTypeEdit","popupTypeNewCard","popupTypeEditAvatar","closeButtons","querySelectorAll","popups","editProfile","forms","nameInput","elements","jobInput","description","profileTitle","profileDescription","newPlace","placeName","placeLink","popupTypeImage","profileAvatar","buttonEditProfile","buttonNewPlace","buttonEditAvatar","editAvatar","avatarInput","avatar","formSelector","renderLoading","isLoading","element","all","dataProfile","about","style","backgroundImage","value","forEach","append","e","target","currentTarget","data","preventDefault","body","JSON","stringify","finally","prepend","reset","Array","from","patternMismatch","dataset","errorMessage","showInputError","validationMessage","checkInputValidity","setEventListeners","enableValidation"],"sourceRoot":""}